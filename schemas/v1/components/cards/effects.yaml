$id: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects
$schema: https://json-schema.org/draft/2020-12/schema
description: >-
  Demesne card effects.
type: object
properties:
  action:
    $ref: "#/$defs/effects"
  reaction:
    $ref: "#/$defs/conditionalEffect"
additionalProperties: false
minProperties: 1
$defs:
  effect:
    type: object
    properties:
      action:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/action
      treasure:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/treasure
      discard:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/discard
      draw:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/draw
      trash:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/trash
      gain:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/gain
      ignore:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/ignore
      play:
        $ref: https://demesne.qwwqe.xyz/schemas/v1/components/cards/effects/play
      reaction:
        $ref: "#/$defs/conditionalEffect"
    maxProperties: 1
    minProperties: 1
    additionalProperties: false
  conditionalEffect:
    type: object
    properties:
      trigger:
        $ref: "#/$defs/effect"
      effects:
        $ref: "#/$defs/effects"
      limit:
        type: number
        minimum: 0
    required:
      - trigger
      - effects
    additionalProperties: false
  effects:
    type: array
    items:
      $ref: "#/$defs/effect"
